(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(t,e,a){t.exports=a("56d7")},"04d3":function(t,e,a){"use strict";a("2f76")},"1e83":function(t,e,a){"use strict";a("67a6")},2570:function(t,e,a){},"2c28":function(t,e,a){},"2f76":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("top-stripe",{staticClass:"h-padding v-padding",attrs:{d:t.top_data}}),t.page_data.hot?a("hot",{staticClass:"h-padding v-padding",attrs:{page:t.page_data.hot}}):t._e(),a("section",{staticClass:"questions h-padding v-padding"},[a("div",{staticClass:"badge"},[t._v("Найчастіші питання:")]),a("div",{staticClass:"list"},[a("perfect-scrollbar",t._l(t.page_data.questions,(function(e,s){return a("question",{key:s,attrs:{q:e},on:{title_click:function(e){return t.question_click(s)}}})})),1)],1)]),t.page_data.charts?a("charts",{staticClass:"h-padding v-padding",attrs:{charts:t.page_data.charts}}):t._e(),a("articles-list")],1)},i=[],c=(a("a4d3"),a("e01a"),a("4160"),a("13d5"),a("b0c0"),a("498a"),a("159b"),a("a4a1")),r=(a("f6b9"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"top-stripe"},[s("div",{staticClass:"corona-with-msg"},[s("img",{staticClass:"corona-logo",attrs:{src:a("6ccf")}}),s("p",{staticClass:"message-box",domProps:{innerHTML:t._s(t.d.description)}})]),s("div",{staticClass:"numbers"},[s("div",{staticClass:"number-pane"},[s("div",{staticClass:"title"},[t._v("Випадків в Україні")]),t.d.cases?s("div",{staticClass:"number"},[t._v(t._s(t.format(t.d.cases)))]):t._e()]),s("div",{staticClass:"vr"}),s("div",{staticClass:"number-pane"},[s("div",{staticClass:"title"},[t._v("Померлих в Україні")]),t.d.deaths?s("div",{staticClass:"number"},[t._v(t._s(t.format(t.d.deaths)))]):t._e()])])])}),o=[],l=(a("d3b7"),a("ac1f"),a("25f0"),a("5319"),{name:"TopStripe",props:{d:Object},methods:{format:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}}}),d=l,u=(a("d28b"),a("2877")),f=Object(u["a"])(d,r,o,!1,null,"1f2eacc6",null),h=f.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"hot",attrs:{href:t.page.url}},[a("span",{staticClass:"badge"},[t._v("Гарячі новини")]),a("p",{staticClass:"title"},[t._v(t._s(t.page.title))])])},_=[],v={name:"Hot",props:{page:Object}},g=v,m=(a("a909"),Object(u["a"])(g,p,_,!1,null,"22e24cf8",null)),b=m.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"question "+(t.q.collapsed?"collapsed":"")},[a("div",{staticClass:"title",on:{click:function(e){return t.$emit("title_click")}}},[a("div",{staticClass:"heading"},[t._v(t._s(t.q.title))]),a("div",{staticClass:"chevron"})]),a("div",{staticClass:"answer",domProps:{innerHTML:t._s(t.q.answer)}})])},w=[],x={name:"Question",props:{q:Object},computed:{}},k=x,q=(a("04d3"),a("61b5"),Object(u["a"])(k,C,w,!1,null,"72090f3c",null)),H=q.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"list-page"},[a("section",{staticClass:"header-section"},t._l(t.feeds,(function(e,s){return a("h2",{key:s,class:e.active?"active":"",on:{click:function(a){return t.click(e)}}},[t._v(t._s(e.name))])})),0),a("section",{attrs:{id:"articles_list"}},[t.active_feed?a("section",{domProps:{innerHTML:t._s(t.active_feed.feed_html)}}):t._e()])])},L=[],T=(a("99af"),500),O={data:function(){return{feeds:[{name:"Що в Україні",url:"/theme/covidpage_ukraine/",active:!1,last_page:0,feed_html:"",pending:!1},{name:"Що кажуть вчені",url:"/theme/covidpage_science/",active:!1,last_page:0,feed_html:"",pending:!1}],active_feed:null}},mounted:function(){var t=this;this.active_feed=this.feeds[0],this.active_feed.active=!0,this.loadHtml(this.feeds[0]),window.setTimeout((function(){return t.loadHtml(t.feeds[1])}),2e3),window.addEventListener("scroll",this.onscroll)},destroyed:function(){window.removeEventListener("scroll",this.onscroll)},methods:{loadHtml:function(t){if(!t.pending){t.pending=!0;var e=t.last_page+1,a=t.url;return fetch("".concat(a,"?page=").concat(e),{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(e.ok)return e;if(404===e.status)throw"end of list";throw t.pending=!1,"error while fetching"})).then((function(t){return t.text()})).then((function(e){return t.feed_html+=e})).then((function(){return t.last_page++})).then((function(){return t.pending=!1}))}},click:function(t){this.feeds.forEach((function(t){return t.active=!1})),t.active=!0,this.active_feed=t},onscroll:function(t){window.innerHeight+window.scrollY+T>=document.body.offsetHeight&&this.loadHtml(this.active_feed)}},watch:{active_feed:function(t){}}},j=O,M=(a("971e"),a("1e83"),Object(u["a"])(j,E,L,!1,null,"01589322",null)),$=M.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"charts"},[a("div",{staticClass:"badge"},[t._v("Графіки:")]),t.active_chart?a("a",{staticClass:"chart-container",attrs:{href:t.active_chart.caption,target:"_blank"}},[a("img",{attrs:{src:"https://texty.org.ua"+t.active_chart.image,alt:t.active_chart.caption}})]):t._e(),a("p",{staticClass:"caption"},[t._v("Клікніть на графіку, щоб дізнатись більше")]),a("div",{staticClass:"buttons"},[a("div",{staticClass:"chevron-container",on:{click:t.slidePrev}},[a("div",{staticClass:"chevron prev"})]),a("div",{staticClass:"chevron-container",on:{click:t.slideNext}},[a("div",{staticClass:"chevron next"})])])])},P=[],S={props:{charts:Array},data:function(){return{active_chart_index:0}},computed:{active_chart:function(){return this.charts[this.active_chart_index]}},methods:{slideNext:function(){this.active_chart_index=(this.active_chart_index+1)%this.charts.length},slidePrev:function(){this.active_chart_index=(this.active_chart_index+this.charts.length-1)%this.charts.length}}},N=S,A=(a("7efb"),Object(u["a"])(N,y,P,!1,null,"490c55f2",null)),J=A.exports,B={name:"App",components:{TopStripe:h,Hot:b,Question:H,ArticlesList:$,Charts:J,PerfectScrollbar:c["PerfectScrollbar"]},data:function(){return{page_data:{}}},mounted:function(){var t=this;window.addEventListener("load",(function(){t.page_data=Q(JSON.parse(document.getElementById("data").innerHTML))}))},methods:{question_click:function(t){this.page_data.questions.forEach((function(e,a){e.collapsed=a!=t||!e.collapsed}))}},computed:{top_data:function(){return{deaths:this.page_data.total_deaths?this.page_data.total_deaths[0]:null,cases:this.page_data.total_cases?this.page_data.total_cases[0]:null,description:this.page_data.description?this.page_data.description[0]:null}}}};function Q(t){var e=t.reduce((function(t,e,a){return t[e.name]=e.items,t}),{});e.hot.length?e.hot=e.hot[0]:e.hot=null;e.questions[0];var a=document.createElement("section");a.innerHTML=e.questions;for(var s=a.children,n=[],i=null,c=0;c<s.length;c++){var r=s[c];"H2"===r.tagName?(i&&n.push(i),i={title:r.innerHTML.trim(),answer:"",collapsed:!0}):i.answer+=r.outerHTML.trim()}return n.push(i),e.questions=n,e}var R=B,X=(a("5c0b"),a("5c64"),Object(u["a"])(R,n,i,!1,null,null,null)),I=X.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"5c64":function(t,e,a){"use strict";a("d32a")},"5ef9":function(t,e,a){},"61b5":function(t,e,a){"use strict";a("a5b9")},"67a6":function(t,e,a){},"6ccf":function(t,e,a){t.exports=a.p+"img/corona.fc546347.svg"},"7efb":function(t,e,a){"use strict";a("2c28")},"971e":function(t,e,a){"use strict";a("2570")},"9c0c":function(t,e,a){},a5b9:function(t,e,a){},a909:function(t,e,a){"use strict";a("5ef9")},bb7f:function(t,e,a){},d28b:function(t,e,a){"use strict";a("bb7f")},d32a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-common.4d6e0537.js.map